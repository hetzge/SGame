package de.hetzge.sgame.map;

import java.util.LinkedList;
import java.util.List;

public class TileDefinition {

	private final List<TileLayer> tileLayers = new LinkedList<>();
	private String cachedKey = null;

	public void addTileLayer(TileLayer tileLayer) {
		this.tileLayers.add(tileLayer);
	}

	public void setTileLayer(int layer, TileLayer tileLayer) {
		this.fillTillLayer(layer);
		this.tileLayers.set(layer, tileLayer);
	}

	public void fillTillLayer(int layer) {
		while (this.tileLayers.size() < layer) {
			this.tileLayers.add(null);
		}
	}

	public List<TileLayer> getTileLayers() {
		return this.tileLayers;
	}

	String calculateKey() {
		String key = "";
		for (TileLayer tileLayer : this.tileLayers) {
			key += "_" + tileLayer.calculateKey();
		}
		return key;
	}

	public String getKey() {
		if (this.cachedKey == null) {
			this.cachedKey = this.calculateKey();
		}
		return this.cachedKey;
	}

}
